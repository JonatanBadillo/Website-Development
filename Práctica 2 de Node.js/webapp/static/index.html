<!-- <!DOCTYPE html>
<html>
  <head>
    <script>
    // Espera a que el DOM esté completamente cargado
    document.addEventListener("DOMContentLoaded", function () {
      // Agrega un evento de clic al botón con el id "btn"
      document.getElementById("btn").addEventListener("click", sendReq);
    });

    // Función asincrónica para enviar la solicitud
    sendReq = async () => {
      let payload = "";
      // Genera un mensaje de carga con un número de serie
      for (let i = 0; i < 10_000; i++) {
        payload += `Mensaje de carga: ${i}\n`;
      }
      // Realiza una solicitud POST al endpoint "/read" con el payload
      const response = await fetch("/read", {
        method: "POST",
        body: payload,
      });
      // Actualiza el contenido del elemento con el id "msg" con el estado de la respuesta
      document.getElementById("msg").textContent = response.statusText;
      // Actualiza el contenido del elemento con el id "body" con el cuerpo de la respuesta
      document.getElementById("body").textContent = await response.text();
    };
    </script>
  </head>
  <body>
    <button id="btn">Send Request</button>
    <div id="msg"></div>
    <div id="body"></div>
  </body>
</html> -->

<!-- 
Envío de un cuerpo de solicitud JSON en el archivo index.html en la carpeta
static. -->
<!-- <!DOCTYPE html>
<html>
  <head>
    <script>
      // Espera a que el DOM esté completamente cargado
      document.addEventListener("DOMContentLoaded", function () {
        // Agrega un evento de clic al botón con el id "btn"
        document.getElementById("btn").addEventListener("click", sendReq);
      });
      // Función asincrónica para enviar la solicitud
      sendReq = async () => {
        let payload = [];
        // Genera un arreglo de objetos con un número de serie y un mensaje
        for (let i = 0; i < 5; i++) {
          payload.push({ id: i, message: `Mensaje de carga: ${i}\n` });
        }
        // Realiza una solicitud POST al endpoint "/read" con el payload en formato JSON
        const response = await fetch("/read", {
          method: "POST",
          body: JSON.stringify(payload),
          headers: {
            "Content-Type": "application/json",
          },
        });
        // Actualiza el contenido del elemento con el id "msg" con el estado de la respuesta
        document.getElementById("msg").textContent = response.statusText;
        // Actualiza el contenido del elemento con el id "body" con el cuerpo de la respuesta
        document.getElementById("body").textContent = await response.text();
      };
    </script>
  </head>
  <body>
    <button id="btn">Send Request</button>
    <div id="msg"></div>
    <div id="body"></div>
  </body>
</html> -->

<!DOCTYPE html>
<html>
  <head>
    <script src="client.js"></script>
  </head>
  <body>
    <img
      src="city.png"
      style="width: 100%; display: block; margin-bottom: 2px"
    />
    <button id="btn">Send Request</button>
    <div id="msg"></div>
    <div id="body"></div>
  </body>
</html>
